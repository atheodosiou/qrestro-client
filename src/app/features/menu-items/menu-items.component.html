<div class="bg-slate-100 sticky top-0 z-10 shadow shadow-slate-200 border-b border-slate-200 mb-4">
    <app-page-header title="Menu Items">
        <p-button label="Add new item" size="small" (onClick)="isDarawerVisible=true"></p-button>
    </app-page-header>
</div>

<div class="overflow-auto px-4">
    <div class="bg-white p-1 rounded-lg">
        <p-table #dt paginatorDropdownAppendTo="body" [columns]="menuItemsCols()" [value]="menuItems()"
            [tableStyle]="{ 'min-width': '50rem' }" [paginator]="true" [rows]="5" [rowsPerPageOptions]="[5, 10, 20]">
            <ng-template #caption>
                <div class="flex">
                    <p-iconfield iconPosition="left" class="ml-auto">
                        <p-inputicon>
                            <i class="pi pi-search"></i>
                        </p-inputicon>
                        <input pInputText type="text" (input)="globalSearch($event)" placeholder="Search keyword" />
                    </p-iconfield>
                </div>
            </ng-template>
            <ng-template #header let-columns>
                <tr>
                    @for (col of columns; track $index) {
                    <th [pSortableColumn]="col.field!=='actions'?col.field:null" [ngStyle]="col.style">
                        {{ col.header }}
                        @if(col.field!=='actions'){
                        <p-sortIcon [field]="col.field" />
                        }
                    </th>
                    }
                </tr>
            </ng-template>
            <ng-template #body let-rowData let-columns="columns">
                <tr>
                    @for (col of columns; track $index) {
                    @if(col.field==='actions'){
                    <td>
                        <div class="flex flex-row items-center gap-2">
                            <p-button icon="pi pi-pencil" size="small" [rounded]="true" [text]="true" />
                            <p-button icon="pi pi-trash" severity="danger" size="small" [rounded]="true"
                                [text]="true" />
                        </div>
                    </td>
                    }
                    @else {
                    <td>
                        {{ rowData[col.field] }}
                    </td>
                    }
                    }
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>
<p-drawer [(visible)]="isDarawerVisible" header="Add new menu item" position="right"
    styleClass="!w-full md:!w-[45rem] lg:!w-[60rem]">
    <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore
        et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
        aliquip ex ea commodo consequat.
    </p>
</p-drawer>